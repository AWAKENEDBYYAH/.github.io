<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />

  <!-- ‚úÖ Preload homepage hero for cinematic intro dock -->
  <link rel="preload" as="image" href="/intro/abybanner.png" fetchpriority="high">

  <!-- ‚úÖ Canonical -->
  <link rel="canonical" href="https://awakenedbyyahmusic.com/" />

  <script>
    // ‚úÖ Force the clean homepage URL (prevents Google indexing /index.html as a duplicate)
    if (location.pathname.endsWith('/index.html')) {
      location.replace('/' + location.search + location.hash);
    }
  </script>

  <!-- Icons -->
  <link rel="icon" type="image/png" href="/abytransparent.png">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/favicon.png">

  <title>AWAKENED BY YAH ‚Äî Truth-Based Soul ‚Ä¢ R&amp;B ‚Ä¢ Praise</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    :root{
      --bg:#020617;
      --panel:rgba(255,255,255,.06);
      --line:rgba(255,255,255,.12);
      --text:#e5e7eb;
      --muted:#94a3b8;
      --brand:#1C39A8;
      --brand2:#1C39A8;
      --glow:rgba(28,57,168,.35);
      --shadow:0 18px 60px rgba(0,0,0,.55);
      --radius:22px;
    }

    *{ box-sizing:border-box; }
    html, body{ height:100%; }
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background: radial-gradient(1100px 700px at 20% 0%, rgba(28,57,168,.22), transparent 60%),
                  radial-gradient(900px 600px at 85% 10%, rgba(255,255,255,.08), transparent 55%),
                  var(--bg);
      color:var(--text);
      overflow-x:hidden;
    }

    a{ color:inherit; text-decoration:none; }
    .wrap{ width:min(1150px, 92vw); margin:0 auto; }

    /* =========================
       HERO / HOME LAYOUT
    ========================= */
    header{
      position:sticky;
      top:0;
      z-index:20;
      backdrop-filter: blur(10px);
      background: rgba(2,6,23,.55);
      border-bottom:1px solid rgba(255,255,255,.10);
    }
    .nav{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
      padding:14px 0;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      min-width: 220px;
    }
    .brand img{
      width:38px; height:38px;
      border-radius:12px;
      box-shadow: 0 0 0 1px rgba(255,255,255,.12), 0 14px 30px rgba(0,0,0,.45);
      background: rgba(255,255,255,.04);
    }
    .brand .t{
      display:flex;
      flex-direction:column;
      line-height:1.15;
    }
    .brand .t b{ letter-spacing:.5px; }
    .brand .t small{ color:var(--muted); }

    .navlinks{
      display:flex;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
      justify-content:flex-end;
    }
    .pill{
      padding:10px 14px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      transition: transform .15s ease, background .15s ease, border-color .15s ease;
    }
    .pill:hover{
      transform: translateY(-1px);
      border-color: rgba(255,255,255,.22);
      background: rgba(255,255,255,.06);
    }
    .pill.primary{
      border-color: rgba(28,57,168,.55);
      background: linear-gradient(180deg, rgba(28,57,168,.45), rgba(28,57,168,.18));
      box-shadow: 0 0 0 1px rgba(28,57,168,.15), 0 18px 60px rgba(28,57,168,.12);
    }

    main{ padding: 30px 0 60px; }

    .hero{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:22px;
      align-items:stretch;
      margin-top:18px;
    }

    .card{
      border-radius: var(--radius);
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }

    .heroLeft{
      padding: 24px;
    }
    .kicker{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:8px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      color: var(--muted);
      font-size: 13px;
      letter-spacing: .3px;
    }
    .hero h1{
      margin:14px 0 10px;
      font-size: clamp(28px, 4.2vw, 44px);
      letter-spacing:.6px;
      line-height:1.07;
    }
    .hero p{
      margin:0 0 18px;
      color: var(--muted);
      font-size: 16px;
      line-height:1.55;
      max-width: 62ch;
    }
    .ctaRow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 10px;
    }

    /* ‚úÖ This is the banner the intro docks into */
    #homeHeroBanner{
      width: 100%;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.14);
      overflow:hidden;
      background: rgba(255,255,255,.03);
      box-shadow: 0 0 0 1px rgba(28,57,168,.12), 0 18px 60px rgba(0,0,0,.55);
      position: relative;
      margin-top: 18px;
      aspect-ratio: 16/9;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    #homeHeroBanner img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      filter: saturate(1.06) contrast(1.06);
    }
    #homeHeroBanner::after{
      content:"";
      position:absolute;
      inset:0;
      background:
        radial-gradient(900px 300px at 20% 0%, rgba(28,57,168,.25), transparent 60%),
        linear-gradient(180deg, rgba(2,6,23,.05), rgba(2,6,23,.35));
      pointer-events:none;
    }

    .heroRight{
      padding: 18px;
      display:flex;
      flex-direction:column;
      gap:12px;
    }
    .stat{
      padding:16px;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
    }
    .stat b{ display:block; font-size:14px; letter-spacing:.4px; }
    .stat small{ color:var(--muted); line-height:1.5; display:block; margin-top:6px; }

    .foot{
      margin-top: 26px;
      color: rgba(229,231,235,.75);
      font-size: 13px;
      border-top: 1px solid rgba(255,255,255,.10);
      padding-top: 18px;
    }

    /* =========================
       INTRO OVERLAY (CINEMATIC)
    ========================= */
    #introOverlay{
      position: fixed;
      inset: 0;
      z-index: 9999;
      display:grid;
      place-items:center;
      background:
        radial-gradient(1000px 650px at 25% 10%, rgba(28,57,168,.26), transparent 62%),
        radial-gradient(900px 650px at 85% 15%, rgba(255,255,255,.08), transparent 62%),
        rgba(2,6,23,.92);
      transition: opacity 600ms ease, visibility 600ms ease;
    }
    #introOverlay.fadeOut{
      opacity: 0;
      visibility: hidden;
      pointer-events:none;
    }

    /* the big reveal that docks into #homeHeroBanner */
    #bannerReveal{
      position: absolute;
      left:50%;
      top:50%;
      transform: translate(-50%, -50%);
      width: min(900px, 92vw);
      aspect-ratio: 16/9;
      border-radius: 18px;
      overflow:hidden;
      opacity: 0;
      transform-origin: top left;
      box-shadow: 0 0 0 1px rgba(255,255,255,.14), 0 22px 80px rgba(0,0,0,.6);
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.04);
      will-change: transform, opacity, width, height;
    }
    #bannerReveal.show{ opacity: 1; }

    #bannerReveal img{
      width:100%;
      height:100%;
      object-fit: cover;
      display:block;
      filter: saturate(1.08) contrast(1.08);
    }
    #bannerReveal::after{
      content:"";
      position:absolute;
      inset:0;
      background:
        radial-gradient(1000px 350px at 20% 0%, rgba(28,57,168,.24), transparent 65%),
        linear-gradient(180deg, rgba(2,6,23,.02), rgba(2,6,23,.30));
      pointer-events:none;
    }

    /* intro text + button */
    .introStack{
      position: relative;
      z-index: 2;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:14px;
      margin-top: 22vh;
      text-align:center;
      padding: 0 14px;
    }
    .introTitle{
      font-weight: 800;
      letter-spacing: 1.2px;
      font-size: clamp(22px, 4.2vw, 38px);
      text-shadow: 0 18px 60px rgba(0,0,0,.65);
    }
    .introSub{
      color: rgba(229,231,235,.78);
      max-width: 62ch;
      line-height:1.5;
      font-size: 14px;
    }
    .introBtn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      padding: 12px 16px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.16);
      background: linear-gradient(180deg, rgba(28,57,168,.55), rgba(28,57,168,.22));
      box-shadow: 0 0 0 1px rgba(28,57,168,.15), 0 18px 60px rgba(28,57,168,.14);
      color: var(--text);
      cursor:pointer;
      user-select:none;
      transition: transform .15s ease, filter .15s ease;
    }
    .introBtn:hover{ transform: translateY(-1px); filter: brightness(1.05); }
    .introBtn:active{ transform: translateY(0px) scale(.99); }

    /* ‚úÖ MOBILE: make the dock reveal BIG first */
    @media (max-width: 640px){
      .hero{ grid-template-columns: 1fr; }
      .nav{ padding:12px 0; }
      .brand{ min-width: 0; }
      .navlinks{ justify-content:flex-start; }
      .introStack{ margin-top: 24vh; }

      #bannerReveal{
        width: 94vw !important;
        height: auto !important;
        aspect-ratio: 16/9;
      }
    }

    /* üé¨ Optional cinematic float/zoom on mobile during the BIG reveal */
    @media (max-width: 640px){
      #bannerReveal.cineFloat{
        animation: cineFloat 900ms ease-in-out infinite alternate;
        will-change: transform;
      }
      @keyframes cineFloat{
        from{ transform: translate(-50%, -50%) scale(1.02); }
        to  { transform: translate(-50%, -50%) scale(1.06); }
      }
    }
  </style>
</head>

<body>
  <!-- =========================
       INTRO OVERLAY (loads first)
  ========================= -->
  <div id="introOverlay" aria-hidden="true">
    <!-- The banner that reveals + docks -->
    <div id="bannerReveal">
      <img src="/intro/abybanner.png" alt="AWAKENED BY YAH cinematic banner">
    </div>

    <div class="introStack">
      <div class="introTitle">AWAKENED BY YAH</div>
      <div class="introSub">Truth-Based Soul ‚Ä¢ R&amp;B ‚Ä¢ Praise ‚Äî enter the sanctuary.</div>

      <!-- ‚úÖ Mobile requires user tap to start audio + begin -->
      <button id="enterBtn" class="introBtn" type="button">Enter</button>
      <div style="font-size:12px;color:rgba(229,231,235,.65)">
        On mobile, tap ‚ÄúEnter‚Äù to begin.
      </div>
    </div>

    <!-- ‚úÖ Intro audio (desktop will attempt autoplay; mobile starts on tap) -->
    <!-- CHANGE THIS SRC to your uploaded intro track path -->
    <audio id="introAudio" preload="auto" playsinline>
      <source src="/intro/intro.mp3" type="audio/mpeg">
    </audio>
  </div>

  <!-- =========================
       SITE HEADER
  ========================= -->
  <header>
    <div class="wrap nav">
      <a class="brand" href="/">
        <img src="/abytransparent.png" alt="Logo">
        <div class="t">
          <b>AWAKENED BY YAH</b>
          <small>Truth-Based music</small>
        </div>
      </a>

      <nav class="navlinks" aria-label="Primary">
        <a class="pill" href="/music/">Music</a>
        <a class="pill" href="/press/">Press</a>
        <a class="pill" href="/media/">Media</a>
        <a class="pill primary" href="/subscribe/">Subscribe</a>
      </nav>
    </div>
  </header>

  <!-- =========================
       MAIN CONTENT
  ========================= -->
  <main>
    <div class="wrap hero">
      <section class="card heroLeft">
        <span class="kicker">üü¶ Kingdom Sound ‚Ä¢ Set-Apart Message</span>

        <h1>Truth-Based Soul &amp; R&amp;B ‚Äî built to awaken the remnant.</h1>
        <p>
          Stream, subscribe, and follow the sound. This home page is designed to feel cinematic
          from the first second ‚Äî especially on mobile.
        </p>

        <div class="ctaRow">
          <a class="pill primary" href="/music/">Listen Now</a>
          <a class="pill" href="/stream.html">Fan Stream</a>
          <a class="pill" href="/subscribe/">Join Kingdom Partners</a>
        </div>

        <!-- ‚úÖ HERO BANNER: this is where the intro docks into -->
        <div id="homeHeroBanner" aria-label="Hero banner">
          <img src="/intro/abybanner.png" alt="AWAKENED BY YAH hero banner">
        </div>
      </section>

      <aside class="card heroRight">
        <div class="stat">
          <b>New Releases</b>
          <small>Find the latest singles, albums, and visuals ‚Äî all in one place.</small>
        </div>
        <div class="stat">
          <b>Support the Mission</b>
          <small>Kingdom Partners unlock unlimited streaming + member access.</small>
        </div>
        <div class="stat">
          <b>Press &amp; Media</b>
          <small>Logos, photos, and interview resources for stations &amp; hosts.</small>
        </div>
      </aside>
    </div>

    <div class="wrap foot">
      ¬© <span id="year"></span> AWAKENED BY YAH ‚Ä¢ All rights reserved.
    </div>
  </main>

  <script>
    // Footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // =========================
    // INTRO: CINEMATIC REVEAL + DOCK
    // =========================
    const overlay      = document.getElementById('introOverlay');
    const bannerReveal = document.getElementById('bannerReveal');
    const introAudio   = document.getElementById('introAudio');
    const enterBtn     = document.getElementById('enterBtn');

    // ‚úÖ Detect mobile (touch-first)
    const isMobile = window.matchMedia("(max-width: 640px)").matches;

    // ‚úÖ Where the reveal should dock into
    function getTargetBanner(){
      return document.getElementById('homeHeroBanner');
    }

    function sleep(ms){ return new Promise(res => setTimeout(res, ms)); }

    function fadeOutAndStopIntroAudio(){
      try{
        if (!introAudio) return;
        // soft fade if playing
        const start = introAudio.volume ?? 1;
        const steps = 14;
        let i = 0;
        const t = setInterval(()=>{
          i++;
          const v = Math.max(0, start * (1 - i/steps));
          introAudio.volume = v;
          if (i >= steps){
            clearInterval(t);
            introAudio.pause();
            introAudio.currentTime = 0;
            introAudio.volume = start; // reset for next load
          }
        }, 45);
      }catch(e){}
    }

    // ‚úÖ REPLACE #1: revealBannerAtHomeSize()
    function revealBannerAtHomeSize(){
      const targetBanner = getTargetBanner();
      if (!targetBanner) return;

      const rect = targetBanner.getBoundingClientRect();

      // ‚úÖ Mobile: reveal BIG first (not the same size as the hero yet)
      if (isMobile){
        bannerReveal.style.width  = "94vw";
        bannerReveal.style.height = "auto";
        bannerReveal.style.aspectRatio = "16 / 9";
        bannerReveal.classList.add('show');

        // üé¨ micro-zoom float while holding (optional but included)
        bannerReveal.classList.add('cineFloat');
        return;
      }

      // Desktop/tablet: reveal exactly at hero size
      bannerReveal.style.width  = rect.width + "px";
      bannerReveal.style.height = rect.height + "px";
      bannerReveal.classList.add('show');
    }

    // ‚úÖ REPLACE #2: dockBanner()
    function dockBanner(){
      const targetBanner = getTargetBanner();
      if (!targetBanner) {
        fadeOutAndStopIntroAudio();
        overlay.classList.add('fadeOut');
        setTimeout(()=> overlay.remove(), 600);
        return;
      }

      // ‚úÖ Mobile: now morph the big reveal down into the hero banner
      if (isMobile){
        const targetRect = targetBanner.getBoundingClientRect();

        // stop the float before docking so transform math is stable
        bannerReveal.classList.remove('cineFloat');

        bannerReveal.style.transition =
          "transform 1150ms cubic-bezier(.2,.9,.2,1), width 800ms ease, height 800ms ease, opacity 350ms ease";
        bannerReveal.style.transformOrigin = "top left";

        // ‚úÖ First, animate size toward hero size
        bannerReveal.style.width  = targetRect.width + "px";
        bannerReveal.style.height = targetRect.height + "px";

        // ‚úÖ Then translate into position (slight delay so resize starts first)
        setTimeout(()=>{
          const rr = bannerReveal.getBoundingClientRect();
          const dx = targetRect.left - rr.left;
          const dy = targetRect.top  - rr.top;

          bannerReveal.style.transform =
            `translate(calc(-50% + ${dx}px), calc(-50% + ${dy}px))`;

          fadeOutAndStopIntroAudio();

          setTimeout(()=>{
            overlay.classList.add('fadeOut');
            setTimeout(()=> overlay.remove(), 600);
          }, 1050);
        }, 60);

        return;
      }

      // Desktop/tablet behavior (existing)
      const targetRect = targetBanner.getBoundingClientRect();
      const revealRect = bannerReveal.getBoundingClientRect();

      bannerReveal.style.transition =
        "transform 950ms cubic-bezier(.2,.9,.2,1), opacity 350ms ease";
      bannerReveal.style.transformOrigin = "top left";

      const dx = targetRect.left - revealRect.left;
      const dy = targetRect.top  - revealRect.top;

      bannerReveal.style.transform =
        `translate(calc(-50% + ${dx}px), calc(-50% + ${dy}px))`;

      fadeOutAndStopIntroAudio();

      setTimeout(()=>{
        overlay.classList.add('fadeOut');
        setTimeout(()=> overlay.remove(), 600);
      }, 1000);
    }

    async function tryAutoplayDesktop(){
      // ‚úÖ Desktop/tablet: attempt autoplay (won‚Äôt break if blocked)
      try{
        if (introAudio){
          introAudio.volume = 0.95;
          await introAudio.play();
        }
      }catch(e){
        // Autoplay blocked: user can still click Enter
      }
    }

    async function run(){
      // show reveal
      revealBannerAtHomeSize();

      // ‚úÖ Hold longer on mobile so it feels epic
      await sleep(isMobile ? 900 : 650);
      dockBanner();
    }

    // Start logic:
    // - Mobile: requires user gesture, so wait for Enter click.
    // - Desktop: attempt autoplay + auto-run; Enter still works as fallback.
    window.addEventListener('load', async () => {
      if (!isMobile){
        await tryAutoplayDesktop();
        run();
      }
    });

    enterBtn.addEventListener('click', async () => {
      // If overlay already fading/removed, ignore
      if (!document.body.contains(overlay)) return;

      // start audio on mobile / fallback
      try{
        if (introAudio){
          introAudio.volume = 0.95;
          await introAudio.play();
        }
      }catch(e){}

      run();
    });

    // If user rotates / resizes during overlay, keep docking accurate
    window.addEventListener('resize', () => {
      // no action needed; dock uses fresh rects when called
    });
  </script>
</body>
</html>
